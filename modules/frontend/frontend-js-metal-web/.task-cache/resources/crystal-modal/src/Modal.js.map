{"version":3,"sources":["D:/Projects/Liferay/portal/modules/frontend/frontend-js-metal-web/bower_components/crystal-modal/src/Modal.js"],"names":[],"mappings":"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","file":"bower_components/crystal-modal/src/Modal.js","sourcesContent":["'use strict';\n\nimport core from 'bower:metal/src/core';\nimport dom from 'bower:metal/src/dom/dom';\nimport ComponentRegistry from 'bower:metal/src/component/ComponentRegistry';\nimport EventHandler from 'bower:metal/src/events/EventHandler';\nimport SoyComponent from 'bower:metal/src/soy/SoyComponent';\nimport './Modal.soy';\n\n/**\n * Modal component.\n */\nclass Modal extends SoyComponent {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\t\tthis.eventHandler_ = new EventHandler();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tattached() {\n\t\tthis.autoFocus_(this.autoFocus);\n\t}\n\n\t/**\n\t * Automatically focuses the element specified by the given selector.\n\t * @param {boolean|string} autoFocusSelector The selector, or false if no\n\t *   element should be automatically focused.\n\t * @protected\n\t */\n\tautoFocus_(autoFocusSelector) {\n\t\tif (this.inDocument && this.visible && autoFocusSelector) {\n\t\t\tvar element = this.element.querySelector(autoFocusSelector);\n\t\t\tif (element) {\n\t\t\t\telement.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdetached() {\n\t\tsuper.detached();\n\t\tthis.eventHandler_.removeAllListeners();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tdom.exitDocument(this.overlayElement);\n\t\tthis.unrestrictFocus_();\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Handles a `focus` event on the document. If the focused element is\n\t * outside the modal and an overlay is being used, focuses the modal back.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleDocumentFocus_(event) {\n\t\tif (this.overlay && !this.element.contains(event.target)) {\n\t\t\tthis.autoFocus_('.modal-dialog');\n\t\t}\n\t}\n\n\t/**\n\t * Handles document click in order to close the alert.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleKeyup_(event) {\n\t\tif (event.keyCode === 27) {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t/**\n\t * Hides the modal, setting its `visible` attribute to false.\n\t */\n\thide() {\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * Restricts focus to the modal while it's visible.\n\t * @protected\n\t */\n\trestrictFocus_() {\n\t\tthis.restrictFocusHandle_ = dom.on(document, 'focus', this.handleDocumentFocus_.bind(this), true);\n\t}\n\n\t/**\n\t * Shifts the focus back to the last element that had been focused before the\n\t * modal was shown.\n\t * @protected\n\t */\n\tshiftFocusBack_() {\n\t\tif (this.lastFocusedElement_) {\n\t\t\tthis.lastFocusedElement_.focus();\n\t\t\tthis.lastFocusedElement_ = null;\n\t\t}\n\t}\n\n\t/**\n\t * Shows the modal, setting its `visible` attribute to true.\n\t */\n\tshow() {\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * Syncs the component according to the value of the `hideOnEscape` attribute.\n\t * @param {boolean} hideOnEscape\n\t */\n\tsyncHideOnEscape(hideOnEscape) {\n\t\tif (hideOnEscape) {\n\t\t\tthis.eventHandler_.add(dom.on(document, 'keyup', this.handleKeyup_.bind(this)));\n\t\t} else {\n\t\t\tthis.eventHandler_.removeAllListeners();\n\t\t}\n\t}\n\n\t/**\n\t * Syncs the component according to the value of the `overlay` attribute.\n\t * @param {boolean} overlay\n\t */\n\tsyncOverlay(overlay) {\n\t\tvar willShowOverlay = overlay && this.visible;\n\t\tdom[willShowOverlay ? 'enterDocument' : 'exitDocument'](this.overlayElement);\n\t}\n\n\t/**\n\t * Syncs the component according to the value of the `visible` attribute.\n\t * @param {boolean} visible\n\t */\n\tsyncVisible(visible) {\n\t\tthis.element.style.display = visible ? 'block' : '';\n\t\tthis.syncOverlay(this.overlay);\n\t\tif (this.visible) {\n\t\t\tthis.lastFocusedElement_ = document.activeElement;\n\t\t\tthis.autoFocus_(this.autoFocus);\n\t\t\tthis.restrictFocus_();\n\t\t} else {\n\t\t\tthis.unrestrictFocus_();\n\t\t\tthis.shiftFocusBack_();\n\t\t}\n\t}\n\n\t/**\n\t * Removes the handler that restricts focus to elements inside the modal.\n\t * @protected\n\t */\n\tunrestrictFocus_() {\n\t\tif (this.restrictFocusHandle_) {\n\t\t\tthis.restrictFocusHandle_.removeListener();\n\t\t}\n\t}\n\n\t/**\n\t * Defines the default value for the `overlayElement` attribute.\n\t * @protected\n\t */\n\tvalueOverlayElementFn_() {\n\t\treturn dom.buildFragment('<div class=\"modal-backdrop fade in\"></div>').firstChild;\n\t}\n}\n\n/**\n * Default modal elementClasses.\n * @default modal\n * @type {string}\n * @static\n */\nModal.ELEMENT_CLASSES = 'modal';\n\nModal.ATTRS = {\n\t/**\n\t * A selector for the element that should be automatically focused when the modal\n\t * becomes visible, or `false` if no auto focus should happen. Defaults to the\n\t * modal's close button.\n\t * @type {boolean|string}\n\t */\n\tautoFocus: {\n\t\tvalidator: val => val === false || core.isString(val),\n\t\tvalue: '.close'\n\t},\n\n\t/**\n\t * Content to be placed inside modal body.\n\t * @type {string|SanitizedHtml}\n\t */\n\tbody: {\n\t},\n\n\t/**\n\t * Content to be placed inside modal footer.\n\t * @type {string|SanitizedHtml}\n\t */\n\tfooter: {\n\t},\n\n\t/**\n\t * Content to be placed inside modal header.\n\t * @type {string|SanitizedHtml}\n\t */\n\theader: {\n\t},\n\n\t/**\n\t * Whether modal should hide on esc.\n\t * @type {boolean}\n\t * @default true\n\t */\n\thideOnEscape: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: true\n\t},\n\n\t/**\n\t * Whether overlay should be visible when modal is visible.\n\t * @type {boolean}\n\t * @default true\n\t */\n\toverlay: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: true\n\t},\n\n\t/**\n\t * Element to be used as overlay.\n\t * @type {Element}\n\t */\n\toverlayElement: {\n\t\tinitOnly: true,\n\t\tvalueFn: 'valueOverlayElementFn_'\n\t},\n\n\t/**\n\t * The ARIA role to be used for this modal.\n\t * @type {string}\n\t * @default 'dialog'\n\t */\n\trole: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'dialog'\n\t}\n};\n\nComponentRegistry.register('Modal', Modal);\n\nexport default Modal;\n\nimport JQueryAdapter from 'bower:metal-jquery-adapter/src/JQueryAdapter';JQueryAdapter.register('modal', Modal)"],"sourceRoot":"/source/"}