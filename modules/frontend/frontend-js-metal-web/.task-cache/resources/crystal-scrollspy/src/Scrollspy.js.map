{"version":3,"sources":["D:/Projects/Liferay/portal/modules/frontend/frontend-js-metal-web/bower_components/crystal-scrollspy/src/Scrollspy.js"],"names":[],"mappings":"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","file":"bower_components/crystal-scrollspy/src/Scrollspy.js","sourcesContent":["'use strict';\n\nimport core from 'bower:metal/src/core';\nimport dom from 'bower:metal/src/dom/dom';\nimport Attribute from 'bower:metal/src/attribute/Attribute';\nimport Position from 'bower:metal-position/src/Position';\n\n/**\n * Scrollspy utility.\n */\nclass Scrollspy extends Attribute {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\t/**\n\t\t * Holds the active index.\n\t\t * @type {Number}\n\t\t * @private\n\t\t * @default -1\n\t\t */\n\t\tthis.activeIndex = -1;\n\n\t\t/**\n\t\t * Holds the regions cache.\n\t\t * @type {Object}\n\t\t * @private\n\t\t * @default []\n\t\t */\n\t\tthis.regions = [];\n\n\t\t/**\n\t\t * Holds event handle that listens scroll shared event emitter proxy.\n\t\t * @type {EventHandle}\n\t\t * @protected\n\t\t */\n\t\tthis.scrollHandle_ = dom.on(this.scrollElement, 'scroll', this.checkPosition.bind(this));\n\n\t\tthis.refresh();\n\t\tthis.on('elementChanged', this.refresh);\n\t\tthis.on('offsetChanged', this.checkPosition);\n\t\tthis.on('scrollElementChanged', this.onScrollElementChanged_);\n\t\tthis.on('selectorChanged', this.refresh);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.deactivateAll();\n\t\tthis.scrollHandle_.dispose();\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Activates index matching element.\n\t * @param {Number} index\n\t */\n\tactivate(index) {\n\t\tif (this.activeIndex >= 0) {\n\t\t\tthis.deactivate(this.activeIndex);\n\t\t}\n\t\tthis.activeIndex = index;\n\t\tdom.addClasses(this.resolveElement(this.regions[index].link), this.activeClass);\n\t}\n\n\t/**\n\t * Checks position of elements and activate the one in region.\n\t */\n\tcheckPosition() {\n\t\tvar scrollHeight = this.getScrollHeight_();\n\t\tvar scrollTop = Position.getScrollTop(this.scrollElement);\n\n\t\tif (scrollHeight < scrollTop + this.offset) {\n\t\t\tthis.activate(this.regions.length - 1);\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this.findBestRegionAt_(scrollTop);\n\t\tif (index !== this.activeIndex) {\n\t\t\tif (index === -1) {\n\t\t\t\tthis.deactivateAll();\n\t\t\t} else {\n\t\t\t\tthis.activate(index);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Deactivates index matching element.\n\t * @param {Number} index\n\t */\n\tdeactivate(index) {\n\t\tdom.removeClasses(this.resolveElement(this.regions[index].link), this.activeClass);\n\t}\n\n\t/**\n\t * Deactivates all elements.\n\t */\n\tdeactivateAll() {\n\t\tfor (var i = 0; i < this.regions.length; i++) {\n\t\t\tthis.deactivate(i);\n\t\t}\n\t\tthis.activeIndex = -1;\n\t}\n\n\t/**\n\t * Finds best region to activate.\n\t * @param {number} scrollTop The scrollTop to use as reference.\n\t * @return {number} The index of best region found.\n\t */\n\tfindBestRegionAt_(scrollTop) {\n\t\tvar index = -1;\n\t\tvar origin = scrollTop + this.offset + this.scrollElementRegion_.top;\n\t\tif (this.regions.length > 0 && origin >= this.regions[0].top) {\n\t\t\tfor (var i = 0; i < this.regions.length; i++) {\n\t\t\t\tvar region = this.regions[i];\n\t\t\t\tvar lastRegion = i === this.regions.length - 1;\n\t\t\t\tif ((origin >= region.top) && (lastRegion || (origin < this.regions[i + 1].top))) {\n\t\t\t\t\tindex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn index;\n\t}\n\n\t/**\n\t * Gets the scroll height of `scrollElement`.\n\t * @return {Number}\n\t */\n\tgetScrollHeight_() {\n\t\tvar scrollHeight = Position.getHeight(this.scrollElement);\n\t\tscrollHeight += this.scrollElementRegion_.top;\n\t\tscrollHeight -= Position.getClientHeight(this.scrollElement);\n\t\treturn scrollHeight;\n\t}\n\n\t/**\n\t * Fired when the value of the `scrollElement` attribute changes.\n\t * Refreshes the spy and updates the event handler to listen to the new scroll element.\n\t * @param {Element} scrollElement\n\t * @protected\n\t */\n\tonScrollElementChanged_(event) {\n\t\tthis.refresh();\n\n\t\tthis.scrollHandle_.dispose();\n\t\tthis.scrollHandle_ = dom.on(event.newVal, 'scroll', this.checkPosition.bind(this));\n\t}\n\n\t/**\n\t * Refreshes all regions from document. Relevant when spying elements that\n\t * nodes can be added and removed.\n\t */\n\trefresh() {\n\t\t// Removes the \"active\" class from all current regions.\n\t\tthis.deactivateAll();\n\n\t\tthis.scrollElementRegion_ = Position.getRegion(this.scrollElement);\n\t\tthis.scrollHeight_ = this.getScrollHeight_();\n\n\t\tthis.regions = [];\n\t\tvar links = this.element.querySelectorAll(this.selector);\n\t\tvar scrollTop = Position.getScrollTop(this.scrollElement);\n\t\tfor (var i = 0; i < links.length; ++i) {\n\t\t\tvar link = links[i];\n\t\t\tif (link.hash && (link.hash.length > 1)) {\n\t\t\t\tvar element = document.getElementById(link.hash.substring(1));\n\t\t\t\tif (element) {\n\t\t\t\t\tvar region = Position.getRegion(element);\n\t\t\t\t\tthis.regions.push({\n\t\t\t\t\t\tlink: link,\n\t\t\t\t\t\ttop: region.top + scrollTop,\n\t\t\t\t\t\tbottom: region.bottom + scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.sortRegions_();\n\n\t\t// Removes the \"active\" class from all new regions and then activate the right one for\n\t\t// the current position.\n\t\tthis.deactivateAll();\n\t\tthis.checkPosition();\n\t}\n\n\t/**\n\t * Sorts regions from lower to higher on y-axis.\n\t * @protected\n\t */\n\tsortRegions_() {\n\t\tthis.regions.sort(function(a, b) {\n\t\t\treturn a.top - b.top;\n\t\t});\n\t}\n}\n\nScrollspy.ATTRS = {\n\t/**\n\t * Class to be used as active class.\n\t * @attribute activeClass\n\t * @type {string}\n\t */\n\tactiveClass: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'active'\n\t},\n\n\t/**\n\t * Function that receives the matching element as argument and return\n\t * itself. Relevant when the `activeClass` must be applied to a different\n\t * element, e.g. a parentNode.\n\t * @type {function}\n\t * @default core.identityFunction\n\t */\n\tresolveElement: {\n\t\tvalidator: core.isFunction,\n\t\tvalue: core.identityFunction\n\t},\n\n\t/**\n\t * The scrollElement element to be used as scrollElement area for affix. The scrollElement is\n\t * where the scroll event is listened from.\n\t * @type {Element|Window}\n\t */\n\tscrollElement: {\n\t\tsetter: dom.toElement,\n\t\tvalue: document\n\t},\n\n\t/**\n\t * Defines the offset that triggers scrollspy.\n\t * @type {Number}\n\t * @default 0\n\t */\n\toffset: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 0\n\t},\n\n\t/**\n\t * Element to be used as alignment reference of affix.\n\t * @type {Element}\n\t */\n\telement: {\n\t\tsetter: dom.toElement\n\t},\n\n\t/**\n\t * Selector to query elements inside `element` to be activated.\n\t * @type {Element}\n\t * @default 'a'\n\t */\n\tselector: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'a'\n\t}\n};\n\nexport default Scrollspy;\nimport JQueryAdapter from 'bower:metal-jquery-adapter/src/JQueryAdapter';JQueryAdapter.register('scrollspy', Scrollspy)"],"sourceRoot":"/source/"}