{"version":3,"sources":["D:/Projects/Liferay/portal/modules/frontend/frontend-js-metal-web/bower_components/crystal-slider/src/Slider.js"],"names":[],"mappings":"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","file":"bower_components/crystal-slider/src/Slider.js","sourcesContent":["'use strict';\n\nimport core from 'bower:metal/src/core';\nimport ComponentRegistry from 'bower:metal/src/component/ComponentRegistry';\nimport Drag from 'bower:metal-drag-drop/src/Drag';\nimport Position from 'bower:metal-position/src/Position';\nimport SoyComponent from 'bower:metal/src/soy/SoyComponent';\nimport './Slider.soy';\n\n/**\n * Slider component.\n */\nclass Slider extends SoyComponent {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\t/**\n\t\t * Map of different slider DOM elements. Used as a cache to prevent unnecessary dom lookups\n\t\t * on succesive queries.\n\t\t * @type {Map}\n\t\t * @protected\n\t\t */\n\t\tthis.elements_ = new Map();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tattached() {\n\t\t/**\n\t\t * Manages dragging the rail handle to update the slider value.\n\t\t * @type {Drag}\n\t\t * @protected\n\t\t */\n\t\tthis.drag_ = new Drag({\n\t\t\tconstrain: this.getElement_('.rail'),\n\t\t\thandles: this.getElement_('.handle'),\n\t\t\tsources: this.getElement_('.rail-handle')\n\t\t});\n\n\t\t/**\n\t\t * Position and dimensions of the slider element.\n\t\t * @type {DOMRect}\n\t\t * @protected\n\t\t */\n\t\tthis.elementRegion_ = Position.getRegion(this.element);\n\n\t\tthis.attachDragEvents_();\n\t}\n\n\t/**\n\t * Attaches the drag events to handle value updates when dragging the rail handle.\n\t * protected\n\t */\n\tattachDragEvents_() {\n\t\tthis.drag_.on(Drag.Events.DRAG, this.updateValueFromDragData_.bind(this));\n\t\tthis.drag_.on(Drag.Events.END, this.updateValueFromDragData_.bind(this));\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\n\t\tthis.drag_.dispose();\n\t\tthis.elements_ = null;\n\t\tthis.elementRegion_ = null;\n\t}\n\n\t/**\n\t * Returns a DOM element inside the slider component based on a selector query.\n\t * @param {string} query Query selector matching the desired element inside the Slider.\n\t * @return {Element} The slider element, or null if none was found.\n\t * @protected\n\t */\n\tgetElement_(query) {\n\t\tlet element = this.elements_.get(query);\n\n\t\tif (!element) {\n\t\t\telement = this.element.querySelector(query);\n\n\t\t\tthis.elements_.set(query, element);\n\t\t}\n\n\t\treturn element;\n\t}\n\n\t/**\n\t * Handles mouse down actions on the slider rail and updates the slider value accordingly.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\tonRailMouseDown_(event) {\n\t\tif (event.target === this.getElement_('.rail') || event.target === this.getElement_('.rail-active')) {\n\t\t\tthis.updateValue_(event.offsetX, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Synchronizes the slider UI with the max attribute.\n\t * @param {number} newVal The new value of the attribute.\n\t */\n\tsyncMax(newVal) {\n\t\tif (newVal < this.value) {\n\t\t\tthis.value = newVal;\n\t\t} else {\n\t\t\tthis.updateHandlePosition_();\n\t\t}\n\t}\n\n\t/**\n\t * Synchronizes the slider UI with the min attribute.\n\t * @param {number} newVal The new value of the attribute.\n\t */\n\tsyncMin(newVal) {\n\t\tif (newVal > this.value) {\n\t\t\tthis.value = newVal;\n\t\t} else {\n\t\t\tthis.updateHandlePosition_();\n\t\t}\n\t}\n\n\t/**\n\t * Synchronizes the slider UI with the value attribute.\n\t * @param {number} newVal The new value of the attribute.\n\t */\n\tsyncValue() {\n\t\tthis.updateHandlePosition_();\n\t}\n\n\t/**\n\t * Updates the handle position and active region to reflect the current slider value.\n\t * @protected\n\t */\n\tupdateHandlePosition_() {\n\t\tlet positionValue = (100 * (this.value - this.min) / (this.max - this.min)) + '%';\n\n\t\tif (!(this.drag_ && this.drag_.isDragging())) {\n\t\t\tthis.getElement_('.rail-handle').style.left = positionValue;\n\t\t}\n\n\t\tthis.getElement_('.rail-active').style.width = positionValue;\n\t}\n\n\t/**\n\t * Updates the slider value based on the UI state of the handle element.\n\t * @param {number} handlePosition Position of the handle in px.\n\t * @param {number} offset Offset to be added to normalize relative inputs.\n\t * @protected\n\t */\n\tupdateValue_(handlePosition, offset) {\n\t\tthis.value = Math.round(offset + (handlePosition / this.elementRegion_.width) * (this.max - this.min));\n\t}\n\n\t/**\n\t * Handles Drag events from the rail handle and updates the slider value accordingly.\n\t * @param {!Object} data\n\t * @protected\n\t */\n\tupdateValueFromDragData_(data) {\n\t\tthis.updateValue_(data.relativeX, this.min);\n\t}\n}\n\nSlider.ATTRS = {\n\t/**\n\t * Name of the hidden input field that holds the slider value. Useful when slider is embedded\n\t * inside a form so it can automatically send its value.\n\t * @type {string}\n\t */\n\tinputName: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * Defines the maximum value handled by the slider.\n\t * @type {number}\n\t * @default 100\n\t */\n\tmax: {\n\t\tvalue: 100\n\t},\n\n\t/**\n\t * Defines the minimum value handled by the slider.\n\t * @type {number}\n\t * @default 0\n\t */\n\tmin: {\n\t\tvalue: 0\n\t},\n\n\t/**\n\t * Defines the currently selected value on the slider.\n\t * @type {number}\n\t * @default 50\n\t */\n\tvalue: {\n\t\tvalidator: function(val) {\n\t\t\treturn core.isNumber(val) && this.min <= val && val <= this.max;\n\t\t},\n\t\tvalue: 80\n\t}\n};\n\n/**\n * Default slider elementClasses.\n * @default slider\n * @type {string}\n * @static\n */\nSlider.ELEMENT_CLASSES = 'slider';\n\nComponentRegistry.register('Slider', Slider);\n\nexport default Slider;\nimport JQueryAdapter from 'bower:metal-jquery-adapter/src/JQueryAdapter';JQueryAdapter.register('slider', Slider)"],"sourceRoot":"/source/"}